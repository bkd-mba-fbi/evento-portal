import{ja as n}from"./chunk-GP622B77.js";var i="uiCulture",d="CLX.LoginToken",g="CLX.RefreshToken",u="CLX.TokenExpire",f=(()=>{let o=class o{getLanguage(){return this.getValue(i)}getAccessToken(){let e=this.getValue(d);return e?e.replace(/^"+|"+$/g,""):null}getRefreshToken(){return this.getValue(g)}getTokenExpire(){return this.getValue(u)}getPayload(){let e=this.getAccessToken();if(!e)return null;let t=this.parseTokenPayload(e);return t.roles="holder_roles"in t&&typeof t.holder_roles=="string"?t.holder_roles:t.roles,t}getValue(e){return sessionStorage.getItem(e)||localStorage.getItem(e)}parseTokenPayload(e){let t=e.split(".");if(t.length!==3)throw new Error("Invalid JWT token format");let s=t[1].replace(/-/g,"+").replace(/_/g,"/"),a=atob(s),c=new TextDecoder("utf-8").decode(Uint8Array.from(a,l=>l.charCodeAt(0)));return JSON.parse(c)}};o.\u0275fac=function(t){return new(t||o)},o.\u0275prov=n({token:o,factory:o.\u0275fac,providedIn:"root"});let r=o;return r})();export{f as a};
